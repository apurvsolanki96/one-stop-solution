<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ONE STOP SOLUTION ‚Äì Flightscape NOTAM AI Processor</title>

<link rel="stylesheet" href="styles.css" />
<link rel="icon" type="image/png" href="assets/flightscape-logo.png" />
</head>

<body>

<!-- Day/Night Toggle -->
<button class="toggle-mode" onclick="toggleMode()">üåô/‚òÄÔ∏è</button>

<!-- HEADER -->
<div class="logo-bar">
    <img src="assets/flightscape-logo.png" class="logo-img" alt="logo" />
    <span class="logo-title">ONE STOP SOLUTION</span>
</div>

<!-- MAIN CONTAINER -->
<div class="container">

    <!-- NOTAM INPUT -->
    <textarea id="notamInput" class="input-box" placeholder="Paste NOTAM here..."></textarea>

    <!-- BUTTON ROW (RESTORED ORIGINAL CLASSES) -->
    <div class="btn-row">
        <button class="btn primary-btn" onclick="processNOTAM()">Process</button>
        <button class="btn secondary-btn" onclick="aiExplain()">Explain</button>
        <button class="btn secondary-btn" onclick="aiSimplify()">Simplify</button>
        <button class="btn secondary-btn" onclick="aiRisk()">Risk</button>
        <button class="btn primary-btn" id="btnParseOffline">Parse Offline</button>
    </div>

    <!-- MEMORY -->
    <div class="memory-box">
        <button id="btnSaveMemory" class="btn primary-btn">Save to Memory</button>
        <span id="memoryBadge">Memory: idle</span>
    </div>

    <h3 class="out-title">OUTPUT</h3>

    <!-- OUTPUT -->
    <pre id="notamOutput" class="output-box"></pre>
    <span id="copyNotice" class="copy-notice"></span>
</div>

<!-- Load scripts -->
<script src="offline-parser.js"></script>
<script src="script.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const offlineBtn = document.getElementById("btnParseOffline");
    offlineBtn.addEventListener("click", function () {
        if (window.oss && typeof window.oss.parseNow === "function") {
            window.oss.parseNow(true);
        } else {
            processNOTAM();
        }
    });
});
</script>

</body>
</html>
